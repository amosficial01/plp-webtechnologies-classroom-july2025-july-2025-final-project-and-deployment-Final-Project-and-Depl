<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - SmartMove Transportation Systems</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, #1e3a5f 0%, #2c3e50 100%);
            position: relative;
            overflow: hidden;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .contact-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        
        .contact-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }
        
        .form-input {
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.15);
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: #4ecdc4;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 2px;
            background: #4ecdc4;
            border-radius: 1px;
        }
        
        .feedback-category {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .feedback-category:hover {
            transform: translateY(-2px);
        }
        
        .feedback-category.active {
            background: #4ecdc4;
            color: white;
            transform: translateY(-2px);
        }
        
        .map-container {
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .success-message {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }
        
        .error-message {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            margin-top: 1rem;
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 glass-effect">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <img src="resources/company-logo.png" alt="SmartMove Logo" class="h-10 w-10">
                    <span class="text-xl font-bold text-white">SmartMove</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="index.html" class="nav-link text-white font-medium">Home</a>
                    <a href="services.html" class="nav-link text-white font-medium">Services</a>
                    <a href="about.html" class="nav-link text-white font-medium">About</a>
                    <a href="contact.html" class="nav-link active text-white font-medium">Contact</a>
                </div>
                <button class="md:hidden text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-bg pt-24 pb-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center text-white">
                <h1 class="text-5xl lg:text-6xl font-bold mb-6">Get In Touch</h1>
                <p class="text-xl lg:text-2xl max-w-3xl mx-auto opacity-90">
                    We value your feedback and are here to help improve urban transportation. 
                    Share your ideas, report issues, or partner with us for a smarter future.
                </p>
            </div>
        </div>
    </section>

    <!-- Feedback System -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Citizen Feedback System</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Help us improve urban transportation by sharing your experiences, reporting issues, 
                    and suggesting improvements for your community.
                </p>
            </div>
            
            <div class="grid lg:grid-cols-2 gap-12">
                <!-- Feedback Form -->
                <div class="contact-card p-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Submit Feedback</h3>
                    
                    <!-- Feedback Categories -->
                    <div class="mb-6">
                        <label class="block text-sm font-semibold text-gray-700 mb-3">Feedback Category</label>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="feedback-category p-3 border-2 border-gray-200 rounded-lg text-center" data-category="service">
                                <div class="text-2xl mb-1">üöå</div>
                                <div class="text-sm font-medium">Service Issues</div>
                            </div>
                            <div class="feedback-category p-3 border-2 border-gray-200 rounded-lg text-center" data-category="infrastructure">
                                <div class="text-2xl mb-1">üèóÔ∏è</div>
                                <div class="text-sm font-medium">Infrastructure</div>
                            </div>
                            <div class="feedback-category p-3 border-2 border-gray-200 rounded-lg text-center" data-category="safety">
                                <div class="text-2xl mb-1">üõ°Ô∏è</div>
                                <div class="text-sm font-medium">Safety Concerns</div>
                            </div>
                            <div class="feedback-category p-3 border-2 border-gray-200 rounded-lg text-center" data-category="suggestion">
                                <div class="text-2xl mb-1">üí°</div>
                                <div class="text-sm font-medium">Suggestions</div>
                            </div>
                        </div>
                    </div>
                    
                    <form id="feedback-form" class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Your Name</label>
                                <input type="text" id="user-name" required
                                       class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent"
                                       placeholder="Enter your name">
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-gray-700 mb-2">Email Address</label>
                                <input type="email" id="user-email" required
                                       class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent"
                                       placeholder="your@email.com">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Location (Optional)</label>
                            <input type="text" id="feedback-location"
                                   class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent"
                                   placeholder="Street, neighborhood, or landmark">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Subject</label>
                            <input type="text" id="feedback-subject" required
                                   class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent"
                                   placeholder="Brief description of your feedback">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Detailed Feedback</label>
                            <textarea id="feedback-details" rows="5" required
                                      class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent"
                                      placeholder="Please provide detailed information about your feedback, including specific issues, suggestions, or concerns..."></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-2">Priority Level</label>
                            <select id="feedback-priority" required
                                    class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-4ecdc4 focus:border-transparent">
                                <option value="">Select priority level</option>
                                <option value="low">Low - General suggestion or minor issue</option>
                                <option value="medium">Medium - Service improvement needed</option>
                                <option value="high">High - Safety concern or urgent issue</option>
                            </select>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <input type="checkbox" id="anonymous" class="w-4 h-4 text-4ecdc4 border-gray-300 rounded focus:ring-4ecdc4">
                            <label for="anonymous" class="text-sm text-gray-700">Submit anonymously</label>
                        </div>
                        
                        <button type="submit" class="w-full bg-1e3a5f hover:bg-2c3e50 text-white py-4 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105">
                            Submit Feedback
                        </button>
                    </form>
                    
                    <div id="success-message" class="success-message">
                        <div class="flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                            </svg>
                            <span>Thank you for your feedback! We'll review it and get back to you if needed.</span>
                        </div>
                    </div>
                    
                    <div id="error-message" class="error-message">
                        <div class="flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                            <span>Please fill in all required fields before submitting.</span>
                        </div>
                    </div>
                </div>
                
                <!-- Interactive Map -->
                <div class="contact-card p-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">Report Location on Map</h3>
                    <div class="map-container mb-6">
                        <div id="feedback-map" style="width: 100%; height: 300px; border-radius: 12px;"></div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                            <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                            <span class="text-sm text-gray-700">Click on the map to mark the exact location of your feedback</span>
                        </div>
                        <div class="text-sm text-gray-600">
                            <strong>Selected Location:</strong> <span id="selected-location">None selected</span>
                        </div>
                        <button id="clear-location" class="text-sm text-4ecdc4 hover:text-44a08d font-medium">
                            Clear Location
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Information -->
    <section class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Contact Information</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Multiple ways to reach our team for support, partnerships, and general inquiries.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="contact-card p-6 text-center floating-element">
                    <div class="w-16 h-16 bg-4ecdc4 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Email Support</h3>
                    <p class="text-gray-600 mb-4">Get help with technical issues and service inquiries</p>
                    <a href="mailto:support@smartmove.com" class="text-4ecdc4 hover:text-44a08d font-medium">
                        support@smartmove.com
                    </a>
                </div>
                
                <div class="contact-card p-6 text-center floating-element" style="animation-delay: 0.3s;">
                    <div class="w-16 h-16 bg-ff6b6b rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Phone Support</h3>
                    <p class="text-gray-600 mb-4">Speak with our customer service team</p>
                    <a href="tel:+1-555-SMART-MOVE" class="text-4ecdc4 hover:text-44a08d font-medium">
                        +1 (555) SMART-MOVE
                    </a>
                </div>
                
                <div class="contact-card p-6 text-center floating-element" style="animation-delay: 0.6s;">
                    <div class="w-16 h-16 bg-2ecc71 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Office Location</h3>
                    <p class="text-gray-600 mb-4">Visit our headquarters for in-person meetings</p>
                    <address class="text-4ecdc4 hover:text-44a08d font-medium not-italic">
                        123 Innovation Drive<br>
                        Smart City, SC 12345
                    </address>
                </div>
                
                <div class="contact-card p-6 text-center floating-element" style="animation-delay: 0.9s;">
                    <div class="w-16 h-16 bg-9b59b6 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">Partnerships</h3>
                    <p class="text-gray-600 mb-4">Explore business and technology partnerships</p>
                    <a href="mailto:partnerships@smartmove.com" class="text-4ecdc4 hover:text-44a08d font-medium">
                        partnerships@smartmove.com
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-900 mb-4">Frequently Asked Questions</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                    Quick answers to common questions about our services and platform.
                </p>
            </div>
            
            <div class="max-w-4xl mx-auto space-y-4">
                <div class="contact-card p-6">
                    <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq-1">
                        <span class="text-lg font-semibold text-gray-900">How do I report a transportation issue?</span>
                        <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq-1" class="faq-answer hidden mt-4 text-gray-600">
                        You can report transportation issues through our feedback form above. Simply select the appropriate category (Service Issues, Infrastructure, Safety, or Suggestions), provide detailed information about the problem, and mark the location on the interactive map if applicable. Our team reviews all submissions within 24 hours.
                    </div>
                </div>
                
                <div class="contact-card p-6">
                    <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq-2">
                        <span class="text-lg font-semibold text-gray-900">What types of feedback do you accept?</span>
                        <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq-2" class="faq-answer hidden mt-4 text-gray-600">
                        We welcome all types of feedback including service quality issues, infrastructure problems, safety concerns, route suggestions, accessibility improvements, and general ideas for enhancing urban transportation. Every piece of feedback is valuable in helping us create better mobility solutions.
                    </div>
                </div>
                
                <div class="contact-card p-6">
                    <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq-3">
                        <span class="text-lg font-semibold text-gray-900">How quickly do you respond to feedback?</span>
                        <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq-3" class="faq-answer hidden mt-4 text-gray-600">
                        We aim to acknowledge all feedback within 24 hours. High-priority issues, especially safety concerns, receive immediate attention. General suggestions and improvements are reviewed weekly and incorporated into our planning processes. You'll receive updates on the status of your feedback via email.
                    </div>
                </div>
                
                <div class="contact-card p-6">
                    <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq-4">
                        <span class="text-lg font-semibold text-gray-900">Can I track the status of my feedback?</span>
                        <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq-4" class="faq-answer hidden mt-4 text-gray-600">
                        Yes! After submitting feedback, you'll receive a unique tracking number via email. You can use this number to check the status of your submission, view any updates, and see when the issue has been resolved or your suggestion has been implemented.
                    </div>
                </div>
                
                <div class="contact-card p-6">
                    <button class="faq-question w-full text-left flex justify-between items-center" data-target="faq-5">
                        <span class="text-lg font-semibold text-gray-900">Do you work with city governments?</span>
                        <svg class="w-5 h-5 text-gray-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="faq-5" class="faq-answer hidden mt-4 text-gray-600">
                        Absolutely! We partner with cities, transportation authorities, and urban planning departments worldwide. Our solutions are designed to integrate with existing infrastructure while providing the data and insights needed for better urban planning and policy decisions.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-1e3a5f">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-4xl font-bold text-white mb-6">Ready to Transform Your City's Transportation?</h2>
            <p class="text-xl text-blue-200 mb-8 max-w-3xl mx-auto">
                Join the smart mobility revolution and create more sustainable, efficient, and livable urban environments.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="document.getElementById('feedback-form').scrollIntoView({behavior: 'smooth'})" class="bg-4ecdc4 hover:bg-44a08d text-white px-8 py-4 rounded-full font-semibold transition-all duration-300 transform hover:scale-105">
                    Share Your Feedback
                </button>
                <button onclick="window.location.href='services.html'" class="border-2 border-white text-white hover:bg-white hover:text-gray-800 px-8 py-4 rounded-full font-semibold transition-all duration-300">
                    Explore Our Solutions
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-3 mb-4">
                    <img src="resources/company-logo.png" alt="SmartMove Logo" class="h-8 w-8">
                    <span class="text-2xl font-bold">SmartMove</span>
                </div>
                <p class="text-gray-400 mb-6">Intelligent Public Transportation Systems</p>
                <div class="border-t border-gray-800 pt-6">
                    <p class="text-gray-500 text-sm">
                        ¬© 2024 SmartMove Transportation Systems. All rights reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Initialize contact page functionality
        document.addEventListener('DOMContentLoaded', function() {
            initializeFeedbackForm();
            initializeInteractiveMap();
            initializeFAQ();
        });

        let selectedLocation = null;
        let map = null;

        // Initialize feedback form
        function initializeFeedbackForm() {
            const categoryButtons = document.querySelectorAll('.feedback-category');
            const form = document.getElementById('feedback-form');

            // Category selection
            categoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    categoryButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Form submission
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                submitFeedback();
            });
        }

        // Initialize interactive map
        function initializeInteractiveMap() {
            const mapContainer = document.getElementById('feedback-map');
            if (!mapContainer) return;

            // Initialize Leaflet map
            map = L.map('feedback-map').setView([40.7128, -74.0060], 13); // Default to NYC

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors'
            }).addTo(map);

            // Add click handler for map
            map.on('click', function(e) {
                if (selectedLocation) {
                    map.removeLayer(selectedLocation);
                }

                selectedLocation = L.marker([e.latlng.lat, e.latlng.lng]).addTo(map);
                document.getElementById('selected-location').textContent = 
                    `${e.latlng.lat.toFixed(4)}, ${e.latlng.lng.toFixed(4)}`;
            });

            // Clear location button
            document.getElementById('clear-location').addEventListener('click', function() {
                if (selectedLocation) {
                    map.removeLayer(selectedLocation);
                    selectedLocation = null;
                    document.getElementById('selected-location').textContent = 'None selected';
                }
            });
        }

        // Submit feedback form
        function submitFeedback() {
            const formData = {
                category: document.querySelector('.feedback-category.active')?.dataset.category || '',
                name: document.getElementById('user-name').value,
                email: document.getElementById('user-email').value,
                location: document.getElementById('feedback-location').value,
                subject: document.getElementById('feedback-subject').value,
                details: document.getElementById('feedback-details').value,
                priority: document.getElementById('feedback-priority').value,
                anonymous: document.getElementById('anonymous').checked,
                mapLocation: selectedLocation ? selectedLocation.getLatLng() : null
            };

            // Validate required fields
            if (!formData.category || !formData.name || !formData.email || !formData.subject || !formData.details || !formData.priority) {
                showErrorMessage('Please fill in all required fields.');
                return;
            }

            // Simulate form submission
            showSuccessMessage('Thank you for your feedback! We\'ll review it and get back to you if needed.');
            
            // Reset form
            setTimeout(() => {
                document.getElementById('feedback-form').reset();
                document.querySelectorAll('.feedback-category').forEach(btn => btn.classList.remove('active'));
                if (selectedLocation) {
                    map.removeLayer(selectedLocation);
                    selectedLocation = null;
                    document.getElementById('selected-location').textContent = 'None selected';
                }
            }, 3000);
        }

        // Show success message
        function showSuccessMessage(message) {
            const successDiv = document.getElementById('success-message');
            const errorDiv = document.getElementById('error-message');
            
            errorDiv.style.display = 'none';
            successDiv.querySelector('span').textContent = message;
            successDiv.style.display = 'block';
            
            anime({
                targets: successDiv,
                opacity: [0, 1],
                translateY: [-20, 0],
                duration: 400,
                easing: 'easeOutExpo'
            });
        }

        // Show error message
        function showErrorMessage(message) {
            const successDiv = document.getElementById('success-message');
            const errorDiv = document.getElementById('error-message');
            
            successDiv.style.display = 'none';
            errorDiv.querySelector('span').textContent = message;
            errorDiv.style.display = 'block';
            
            anime({
                targets: errorDiv,
                opacity: [0, 1],
                translateY: [-20, 0],
                duration: 400,
                easing: 'easeOutExpo'
            });
        }

        // Initialize FAQ functionality
        function initializeFAQ() {
            const faqQuestions = document.querySelectorAll('.faq-question');
            
            faqQuestions.forEach(question => {
                question.addEventListener('click', function() {
                    const targetId = this.dataset.target;
                    const answer = document.getElementById(targetId);
                    const icon = this.querySelector('svg');
                    
                    if (answer.classList.contains('hidden')) {
                        answer.classList.remove('hidden');
                        icon.style.transform = 'rotate(180deg)';
                        
                        anime({
                            targets: answer,
                            opacity: [0, 1],
                            maxHeight: [0, answer.scrollHeight],
                            duration: 400,
                            easing: 'easeOutExpo'
                        });
                    } else {
                        anime({
                            targets: answer,
                            opacity: [1, 0],
                            maxHeight: [answer.scrollHeight, 0],
                            duration: 400,
                            easing: 'easeOutExpo',
                            complete: () => {
                                answer.classList.add('hidden');
                            }
                        });
                        icon.style.transform = 'rotate(0deg)';
                    }
                });
            });
        }
    </script>
    <script src="main.js"></script>
</body>
</html>